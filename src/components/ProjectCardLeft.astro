---
import { Image } from "astro:assets";
import type { ImageMetadata } from "astro";

import { Github } from "@lucide/astro";
import { ScreenShare } from "@lucide/astro";

const { title, descriptionList, github, website, usedTools, imagePath } =
  Astro.props;
//get dynamic image
const images = import.meta.glob<{ default: ImageMetadata }>(
  "/src/assets/projects/*.{jpeg,jpg,png,gif}",
);
if (!images[imagePath])
  throw new Error(
    `"${imagePath}" does not exist in glob: "src/assets/projects/*.{jpeg,jpg,png,gif}"`,
  );
---

<div class="card group lg:mx-28">
  <div class="flex gap-20">
    <Image
      class="w-5/12 -m-6 opacity-70 rounded-l-lg group-hover:opacity-85 hidden lg:flex"
      src={images[imagePath]()}
      alt="Project Image"
    />
    <div class="flex flex-col gap-4">
      <h1 class="font-extrabold text-lg">{title}</h1>
      <div class="flex flex-col gap-2">
        {descriptionList && descriptionList.map((description) => (
          <p>{description}</p>
        ))}
      </div>
      <div class="flex gap-3">
        <a class="hover:text-primary-500" href={github} target="_blank">
          <Github />
        </a>
        <a class="hover:text-primary-500" href={website} target="_blank">
          <ScreenShare />
        </a>
      </div>

      <ul class="flex gap-3 text-muted">
        {usedTools && usedTools.map((tool) => <li class="hover:text-primary-500">{tool}</li>)}
      </ul>
    </div>
  </div>
</div>
