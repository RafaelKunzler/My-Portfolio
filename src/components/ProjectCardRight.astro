---
import { Image } from "astro:assets";
import type { ImageMetadata } from 'astro';

import { Github } from "@lucide/astro";
import { ScreenShare } from "@lucide/astro";

import img from "../assets/projects/fit-flavors.png";

const { title, description, github, website, usedTools, imagePath } = Astro.props;
const images = import.meta.glob<{ default: ImageMetadata }>('/src/assets/projects/*.{jpeg,jpg,png,gif}')
if (!images[imagePath]) throw new Error(`"${imagePath}" does not exist in glob: "src/assets/projects/*.{jpeg,jpg,png,gif}"`);
---

<div class="card mx-28">
  <div class="flex gap-20">    
    <div class="flex flex-col gap-4">
      <h1 class="font-extrabold text-lg">{title}</h1>
      <p>{description}</p>
      <div class="flex gap-3">
        <a class="hover:text-primary-500" href={github} target="_blank">
          <Github />
        </a>
        <a class="hover:text-primary-500" href={website} target="_blank">
          <ScreenShare />
        </a>
      </div>

      <ul class="flex gap-3 text-muted">
        {usedTools && usedTools.map((tool) => <li>{tool}</li>)}
      </ul>
    </div>
    <Image class="w-1/3 -m-6 opacity-70 rounded-r-lg" src={images[imagePath]()} alt="Project Image" />
  </div>
</div>


